- the third technique for reducing complexity related to exceptions is exception aggregation. the idea behind exception aggregation is to handle many exception with a single piece of code; rather than writing distinct handlers for many individual exceptions handle them all in one place with a single handler.
- consider how to handle missing parameters in web server a web server implements a collection of urls. when the server receives an incoming url, it dispatches to a url specific service method to process that url and generate a response. the url contain various parameters that are used to generate the response. Each method will call a lower level method to extract parameters that it needs from the url. if the url does not contain the desired parameter, `getParameter` throws an exception.
- A better approach is to aggregate the exceptions. instead of catching the exceptions in the individual services, let them propagate up to the top-level dispatch method of the web server A single handler in this method can catch all of the exceptions and generate an appropriate error response for missing parameters.
- the aggregation approach can be taken even further in the web example. there are many other errors besides missing parameters that can occur while processing a web page.
- The aggregation has good properties from the stand point of encapsulation and information hiding. the top-level exception handler encapsulates knowledge about how to generate error responses, but it knows nothing about specific errors; it just uses the error message provided in the exception. the `getParameter` knows nothing about the syntax of an http error response.
- Exception aggregation works best if an exception propagates several levels up the stack before it is handled; this allows more exceptions from more methods to be handled in the same place. This is the opposite of [[exception masking]]; masking usually works best if an exception is handled in a low level method. For masking, the low-level method is typically a library method used by many other methods, so allowing the exception to propagate would increase the number of places where it is handled.
- masking and aggregation are similar in that both approaches position an exception handler where it can catch the most exceptions, eliminating many handlers that would otherwise need to be created.